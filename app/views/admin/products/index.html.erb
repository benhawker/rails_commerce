<% provide(:title, t('admin.product_list')) %>
<h2><%= t('admin.product_list') %> (<%= @products.count %>)  <%= link_to t('admin.create_new'), new_admin_product_path, class: 'btn btn-primary' %></h2>

  <div class="panel-body">
    <%= search_form_for @q, html: {class: 'form-inline'}, url: admin_products_path do |f| %>
        <div class="form-group">
          <%= f.text_field :name_cont, placeholder: 'Name contains', class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.text_field :description_cont, placeholder: 'Description contains', class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.text_field :price_gteq, placeholder: 'Price min', class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.text_field :price_lteq, placeholder: 'Price max', class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.submit class: 'btn btn-default' %>
        </div>
    <% end %>


<table class="table table-hover">
  <thead>
  <tr>
    <th>Id</th>
    <th>Name</th>
    <th>Description</th>
    <th>Price</th>
    <th>Category</th>
    <th>Brand</th>
    <th>Active</th>
    <th>Created</th>
    <th>Updated</th>
  </tr>
  </thead>
  <tbody>
  <% @products.each do |p| %>
      <tr>
        <td><%= p.id %></td>
        <td><%= link_to truncate(p.name), admin_product_path(p) %></td>
        <td><%= truncate p.description %></td>
        <td><%= number_to_currency p.price %></td>
        <td><%= link_to p.category.try(:name), admin_category_path(p.category) unless p.category.nil? %></td>
        <td><%= link_to p.brand.try(:name), admin_brand_path(p.brand) unless p.brand.nil? %></td>
        <td><%= p.active %></td>
        <td><%= p.created_at.to_formatted_s(:short)  %></td>
        <td><%= p.updated_at.to_formatted_s(:short)  %></td>
      </tr>
  <% end %>
  </tbody>
</table>
<%= will_paginate @products, renderer: BootstrapPagination::Rails %>